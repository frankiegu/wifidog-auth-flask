{% extends 'layouts/default.html' %}

{% set title = 'Categories' %}

{% block content %}
<div id="{{ resource_name }}-index">
    <form method="post" action="{{ url_for('resource.index', resource_name=resource_name) }}">

    <div class="flakes-search">
        <input type="search" class="search-box" placeholder="Search" autofocus>
        {% if current_user.has_role('super-admin') or current_user.has_role('network-admin') %}
        <div class="filters">
            <div class="filter-select">
                {{ form.gateway_id }}
                <button type="submit" class="button-primary" name="action" value="filter">Filter</button>
            </div>
        </div>
        {% endif %}
    </div>

    <div class="flakes-actions-bar">
        {% include 'resources/actions.html' %}
    </div>

    {% if pagination.items %}
    <table class="flakes-table">
        <colgroup>
            <col span="1" style="width: 20px">
        </colgroup>
        <thead>
            <tr>
                <td class="checkbox"></th>
                <td class="id">ID</th>
                <td class="title">Title</th>
                <td class="description">Description</th>
            </tr>
        </thead>
        <tbody>
            {% for item in pagination.items %}
            <tr data-id={{ item.id }}>
                <td class="checkbox"><input type="checkbox" name="ids" value="{{ item.id }}"></td>
                <td class="id" data-label="ID"><a href="{{ url_for('resource.edit', resource_name=resource_name, id=item.id) }}">{{ item.id }}</a></td>
                <td class="title" data-label="Title"><a href="{{ url_for('resource.edit', resource_name=resource_name, id=item.id) }}">{{ item.title }}</a></td>
                <td class="description" data-label="Description">{{ item.description }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    </form>
</div>
{% endblock %}
